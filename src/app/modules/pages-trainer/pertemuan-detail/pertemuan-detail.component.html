<section class="content-header">
    <h1>
      Current Meet Detail
    </h1>
    <!-- Default box -->
    <div class="box">
      <div class="box-header with-border">
        <h2 class="box-title">Materi</h2>
      </div>
        <!-- /.box-body -->
        <div class="box-body">
          <p-table [value]="pertemuan" sortField="pertemuan" [autoLayout]="true">
            <ng-template pTemplate="header">
              <tr>
                <th style="text-align: center;">Pertemuan</th>
                <th style="text-align: center;">Tanggal</th>
                <th style="text-align: center;">Forum</th>
                <th colspan="2" style="text-align: center;">Materi</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData let-pertemuan>
              <tr>
                <td style="width: 100px;">{{pertemuan.pertemuan}}</td>
                <td>{{pertemuan.tanggalPertemuan}}</td>
                <td>
                  <button type="button" class="btn btn-block btn-primary" [routerLink]="['../forum']" [queryParams]="{idPertemuan:pertemuan.idPertemuan}">
                    <i class="glyphicon glyphicon-comment"></i>
                  </button>
                </td>
                <td>
                  <button type="button" class="btn btn-block btn-primary" (click)="showUpload(pertemuan.idPertemuan)">
                    <i class="glyphicon glyphicon-cloud-upload" style="width: fit-content;"></i>
                  </button>
                </td>
                <td>
                  <button type="button" class="btn btn-block btn-primary" (click)="onDownload(pertemuan.idMateri.idMateri)">
                    <i class="glyphicon glyphicon-cloud-download" style="width: fit-content;"></i>
                  </button>
                </td>
              </tr>
            </ng-template>
          </p-table>            
        </div>
        <!-- /.box-body -->
        <div class="box-footer">
        </div>
        <!-- /.box-footer-->
      </div>
      <!-- /.box -->
  </section>
  <!-- /.content -->

<p-dialog header="Upload Materi" [(visible)]="display">
  <div class="form-group" enctype="multipart/form-data">
    <label for="inputMateri" class="col-sm-4 control-label">Silahkan Upload File Materi</label>
    <div class="col-sm-8">
      <input enctype="multipart/form-data" name="fileMateri" type="file" id="fileMateri" (change)="handleInputMateri($event.target.files)">
    </div>
  </div>
  <p-footer>
    <button type="submit" pButton icon="pi pi-check" (click)="onUploadMateri(); display=false" label="Upload"></button>
    <button type="button" pButton icon="pi pi-times" (click)="display=false" label="Cancel" class="ui-button-secondary"></button>
</p-footer>
</p-dialog>

<p-toast position="bottom-center"></p-toast>